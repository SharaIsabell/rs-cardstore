<header class="main-header">
  <div class="container header-content">

    <% const isAdmin = (locals.session && session.isAdmin && session.pinValidated); %>

    <a href="<%= isAdmin ? '/admin' : '/' %>" class="logo">RS<span>CardStore</span></a>

    <% if (isAdmin) { %>
      <nav class="main-nav"></nav>

      <div class="header-actions">
        <span class="admin-chip" title="Sessão administrativa">Admin</span>

        <a href="/admin/logout" title="Sair">
          <i class="fa-solid fa-right-from-bracket"></i>
        </a>
     
      <div class="theme-switch-wrapper">
          <label class="theme-switch" for="theme-checkbox">
            <input type="checkbox" id="theme-checkbox" />
            <div class="slider round">
              <i class="fa-solid fa-moon"></i>
              <i class="fa-solid fa-sun"></i>
            </div>
         </label>
        </div>
      </div>
    <% } else { %>
      <nav class="main-nav">
        <a href="/magic">Magic: The Gathering</a>
        <a href="/yugioh">Yu-Gi-Oh!</a>
        <a href="/pokemon">Pokémon TCG</a>
        <a href="/acessorios">Acessórios</a>
        <a href="/promocoes">Promoções</a>
      </nav>

      <div class="header-actions">
        <% if (locals.session && session.userId) { %>
          <div class="user-greeting">Olá, <%= session.userName.split(' ')[0] %>!</div>
          <a href="/logout" title="Sair">
            <i class="fa-solid fa-right-from-bracket"></i>
          </a>
        <% } else { %>
          <a href="/login" aria-label="Minha Conta"><i class="fa-solid fa-user"></i></a>
        <% } %>

         <a href="/carrinho" aria-label="Carrinho de Compras">
          <i class="fa-solid fa-cart-shopping"></i>
        </a>

        <% if (locals.session && session.userId) { %>
          <a href="/minha-conta" aria-label="Minha Conta" title="Minha Conta">
            <i class="fa-solid fa-user-gear"></i>
          </a>
          <a href="/meus-pedidos" aria-label="Meus Pedidos" title="Meus Pedidos">
            <i class="fa-solid fa-receipt"></i>
          </a>
        <% } %>

        <div class="theme-switch-wrapper">
           <label class="theme-switch" for="theme-checkbox">
            <input type="checkbox" id="theme-checkbox" />
            <div class="slider round">
              <i class="fa-solid fa-moon"></i>
              <i class="fa-solid fa-sun"></i>
            </div>
          </label>
        </div>
      </div>
    <% } %>
  </div>
</header>